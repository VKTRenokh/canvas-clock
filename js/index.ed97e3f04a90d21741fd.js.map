{"version":3,"file":"js/index.ed97e3f04a90d21741fd.js","mappings":"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","sources":["webpack:///./index.scss","webpack:///./BaseComponent.ts","webpack:///./index.scss?070f","webpack:///./utils/maybe.ts","webpack:///./constants/colors.ts","webpack:///./constants/indices.ts","webpack:///./buffers/buffers.ts","webpack:///./utils/rgbaMatrixToFloat32Array.ts","webpack:///./clock.ts","webpack:///./index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/.pnpm/css-loader@6.7.1_webpack@5.74.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/.pnpm/css-loader@6.7.1_webpack@5.74.0/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../node_modules/.pnpm/css-loader@6.7.1_webpack@5.74.0/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/normalize.css@8.0.1/node_modules/normalize.css/normalize.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./index.scss%23sass\",\"webpack://./index.scss\"],\"names\":[],\"mappings\":\"AAAwB;EAAK,aAAA;EAAa,uBAAA;EAAuB,mBAAA;ACKjE\",\"sourcesContent\":[\"@import'~normalize.css';body{display:flex;justify-content:center;align-items:center}\",\"@import '~normalize.css';\\n\\nbody {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export class BaseComponent<NodeType extends keyof HTMLElementTagNameMap> {\n  node: HTMLElementTagNameMap[NodeType];\n\n  constructor(\n    parentNode: HTMLElement,\n    tagName: NodeType,\n    className?: string,\n    text?: string\n  ) {\n    this.node = document.createElement(tagName);\n    this.node.className = className || \"\";\n    this.node.textContent = text || \"\";\n\n    parentNode.append(this.node);\n  }\n\n  destroy(): void {\n    this.node.remove();\n  }\n}\n","\n      import API from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/.pnpm/style-loader@3.3.1_webpack@5.74.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/.pnpm/css-loader@6.7.1_webpack@5.74.0/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@7.0.1_postcss@8.4.18_webpack@5.74.0/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@13.1.0_sass@1.55.0_webpack@5.74.0/node_modules/sass-loader/dist/cjs.js!./index.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/.pnpm/css-loader@6.7.1_webpack@5.74.0/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@7.0.1_postcss@8.4.18_webpack@5.74.0/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@13.1.0_sass@1.55.0_webpack@5.74.0/node_modules/sass-loader/dist/cjs.js!./index.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","export interface Maybe<T> {\n  map: <R>(fn: (_: T) => R) => Maybe<R>;\n  ap: <R>(mfn: Maybe<(_: T) => R>) => Maybe<R>;\n  equals: (m: Maybe<unknown>) => boolean;\n  chain: (fn: (_: T) => T) => Maybe<T>;\n  fmap: <R>(f: (v: T) => Maybe<R>) => Maybe<R>;\n  getOrElse: (dv: T) => T;\n  asyncMap: <R>(fn: (v: T) => Promise<R>) => Promise<Maybe<R>>;\n  merge: <R>(om: Maybe<R>) => Maybe<[T, R]>;\n  value: T | null;\n}\n\nexport const maybe = <T>(value: T | null): Maybe<T> => ({\n  map: <R>(fn: (_: T) => R) => (value ? maybe<R>(fn(value)) : maybe<R>(null)),\n  ap: <R>(mfn: Maybe<(_: T) => R>) =>\n    value && mfn.value ? maybe(mfn.value(value)) : maybe<R>(null),\n  equals: (m) => m.value === value,\n  chain: <R>(fn: (_: T) => T) => (value ? maybe(fn(value)) : maybe<R>(null)),\n  fmap: <R>(f: (value: T) => Maybe<R>) => (value ? f(value) : maybe<R>(null)),\n  getOrElse: (dv) => (value === null ? dv : value),\n  merge<R>(om: Maybe<R>): Maybe<[T, R]> {\n    return this.fmap((v) => om.map((ov) => [v, ov]));\n  },\n  asyncMap: async <R>(fn: (v: T) => Promise<R>): Promise<Maybe<R>> =>\n    value === null ? maybe<R>(null) : fn(value).then((mapped) => maybe(mapped)),\n  get value() {\n    return value;\n  },\n});\n","import { Rgba } from \"@/utils/rgbaMatrixToFloat32Array\";\n\nexport const red: Rgba = [1.0, 0.0, 0.0, 1.0];\nexport const green: Rgba = [0.0, 1.0, 0.0, 1.0];\nexport const blue: Rgba = [0.0, 0.0, 1.0, 1.0];\nexport const cyan: Rgba = [0.0, 1.0, 1.0, 1.0];\nexport const yellow: Rgba = [1.0, 1.0, 0.0, 1.0];\nexport const purple: Rgba = [1.0, 0.0, 1.0, 1.0];\n","export const indices = [\n  0,\n  1,\n  2,\n  0,\n  2,\n  3, // front\n  4,\n  5,\n  6,\n  4,\n  6,\n  7, // back\n  8,\n  9,\n  10,\n  8,\n  10,\n  11, // top\n  12,\n  13,\n  14,\n  12,\n  14,\n  15, // bottom\n  16,\n  17,\n  18,\n  16,\n  18,\n  19, // right\n  20,\n  21,\n  22,\n  20,\n  22,\n  23, // left\n];\n","import { red, blue, cyan, green, purple, yellow } from \"@/constants/colors\";\nimport { indices } from \"@/constants/indices\";\nimport {\n  RgbaMatrix,\n  rgbaMatrixToFloat32Array,\n} from \"@/utils/rgbaMatrixToFloat32Array\";\n\nexport class Buffers {\n  position: WebGLBuffer | null = null;\n  color: WebGLBuffer | null = null;\n  normal: WebGLBuffer | null = null;\n  indices: WebGLBuffer | null = null;\n\n  constructor(private gl: WebGL2RenderingContext) {\n    this.position = this.initPositionBuffer();\n    this.color = this.initColorBuffer();\n    this.indices = this.initIndexBuffer();\n  }\n\n  private initColorBuffer() {\n    const faceColors: RgbaMatrix = [red, green, blue, cyan, yellow, purple];\n\n    const buffer = this.gl.createBuffer();\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      rgbaMatrixToFloat32Array(faceColors),\n      this.gl.STATIC_DRAW\n    );\n\n    return buffer;\n  }\n\n  private initPositionBuffer() {\n    const buffer = this.gl.createBuffer();\n\n    const positions = [\n      -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0,\n      -1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, -1.0, -1.0, -1.0, 1.0,\n      -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0,\n      1.0, -1.0, -1.0, 1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, -1.0, -1.0, 1.0,\n      1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0,\n      1.0, -1.0, 1.0, 1.0, -1.0, 1.0, -1.0,\n    ];\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(positions),\n      this.gl.STATIC_DRAW\n    );\n\n    return buffer;\n  }\n\n  private initIndexBuffer() {\n    const buffer = this.gl.createBuffer();\n\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, buffer);\n\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      new Uint16Array(indices),\n      this.gl.STATIC_DRAW\n    );\n\n    return buffer;\n  }\n}\n","export type Rgba = [number, number, number, number];\nexport type RgbaMatrix = Rgba[];\n\nexport const rgbaMatrixToFloat32Array = (matrix: RgbaMatrix): Float32Array => {\n  return new Float32Array(\n    matrix.flatMap((rgba) => {\n      return [...rgba, ...rgba, ...rgba, ...rgba];\n    })\n  );\n};\n","import { BaseComponent } from \"./BaseComponent\";\nimport { Maybe, maybe } from \"./utils/maybe\";\nimport { mat4 } from \"gl-matrix\";\nimport { Info } from \"./types/info\";\nimport { Buffers } from \"./buffers/buffers\";\n\nexport class Clock extends BaseComponent<\"canvas\"> {\n  private frame = maybe<number>(null);\n  private ctx = maybe<WebGL2RenderingContext>(null);\n  private speed = 0.001;\n\n  constructor(parent: HTMLElement, width: number, height: number) {\n    super(parent, \"canvas\");\n    this.node.width = width;\n    this.node.height = height;\n\n    this.ctx = maybe(this.node.getContext(\"webgl2\"));\n\n    this.redraw();\n  }\n\n  loadShader(gl: WebGL2RenderingContext, type: number, source: string) {\n    const shader = maybe(gl.createShader(type));\n\n    return shader.map((shader) => {\n      gl.shaderSource(shader, source);\n\n      gl.compileShader(shader);\n\n      return shader;\n    });\n  }\n\n  attachShader(\n    gl: WebGL2RenderingContext,\n    program: Maybe<WebGLProgram>,\n    shader: Maybe<WebGLShader>\n  ) {\n    program.merge(shader).map(([program, shader]) => {\n      gl.attachShader(program, shader);\n    });\n  }\n\n  initShader(gl: WebGL2RenderingContext, vsSource: string, fsSource: string) {\n    const vertexShader = this.loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = this.loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n\n    const program = maybe(gl.createProgram());\n\n    this.attachShader(gl, program, vertexShader);\n    this.attachShader(gl, program, fragmentShader);\n\n    return program.map((program) => {\n      gl.linkProgram(program);\n\n      return program;\n    });\n  }\n\n  initBuffers(gl: WebGL2RenderingContext) {\n    return new Buffers(gl);\n  }\n\n  drawScene(\n    gl: WebGL2RenderingContext,\n    programInfo: Info,\n    buffers: Buffers,\n    rotation: number,\n    rotationX: number,\n    rotationY: number\n  ) {\n    gl.clearColor(1.0, 0.49, 0, 1.0);\n    gl.clearDepth(1.0);\n    gl.enable(gl.DEPTH_TEST);\n    gl.depthFunc(gl.LEQUAL);\n\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    const fov = (45 * Math.PI) / 180;\n\n    const aspect = gl.canvas.width / gl.canvas.height;\n\n    const nearZ = 0.1;\n    const farZ = 500.0;\n\n    const projection = mat4.create();\n\n    mat4.perspective(projection, fov, aspect, nearZ, farZ);\n\n    const modelView = mat4.create();\n\n    mat4.translate(modelView, modelView, [0.0, 0.0, -6.0]);\n\n    mat4.rotate(modelView, modelView, rotation, [0, 0, 1]);\n    mat4.rotate(modelView, modelView, rotationX, [0, 1, 0]);\n    mat4.rotate(modelView, modelView, rotationY, [1, 0, 0]);\n\n    this.setPosition(gl, programInfo, buffers);\n    this.setColor(gl, programInfo, buffers);\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\n\n    gl.useProgram(programInfo.program);\n\n    gl.uniformMatrix4fv(\n      programInfo.uniformLocations.projectionMatrix,\n      false,\n      projection\n    );\n    gl.uniformMatrix4fv(\n      programInfo.uniformLocations.modelViewMatrix,\n      false,\n      modelView\n    );\n    gl.drawElements(gl.TRIANGLE_STRIP, 36, gl.UNSIGNED_SHORT, 0);\n  }\n\n  setPosition(gl: WebGL2RenderingContext, programInfo: Info, buffers: Buffers) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\n    gl.vertexAttribPointer(\n      programInfo.attribLocations.vertexPosition,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    gl.enableVertexAttribArray(programInfo.attribLocations.vertexPosition);\n  }\n\n  setColor(gl: WebGL2RenderingContext, programInfo: Info, buffers: Buffers) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffers.color);\n\n    gl.vertexAttribPointer(\n      programInfo.attribLocations.vertexColor,\n      4,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    gl.enableVertexAttribArray(programInfo.attribLocations.vertexColor);\n  }\n\n  redraw() {\n    this.ctx.map((gl) => {\n      const v = `\n          attribute vec4 aVertexPosition;\n          attribute vec4 aVertexColor;\n\n          uniform mat4 uModelViewMatrix;\n          uniform mat4 uProjectionMatrix;\n\n          varying lowp vec4 vColor;\n\n          void main(void) {\n            gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n            vColor = aVertexColor;\n          }\n`;\n\n      const f = `\n         varying lowp vec4 vColor;\n\n         void main(void) {\n           gl_FragColor = vColor;\n         }\n      `;\n\n      const shaderProgram = this.initShader(gl, v, f);\n      const buffers = this.initBuffers(gl);\n\n      shaderProgram.map((program) => {\n        const info: Info = {\n          program,\n          uniformLocations: {\n            projectionMatrix: gl.getUniformLocation(\n              program,\n              \"uProjectionMatrix\"\n            ),\n            modelViewMatrix: gl.getUniformLocation(program, \"uModelViewMatrix\"),\n          },\n          attribLocations: {\n            vertexPosition: gl.getAttribLocation(program, \"aVertexPosition\"),\n            vertexColor: gl.getAttribLocation(program, \"aVertexColor\"),\n          },\n        };\n\n        // let then = 0;\n        // let deltaTime = 0;\n        let rotationX = 0;\n        let rotationY = 0;\n        let rotation = 0;\n\n        const a = (time: number) => {\n          // const now = (time *= this.speed);\n          // deltaTime = now - then;\n          // then = now;\n\n          this.drawScene(\n            gl,\n            info,\n            this.initBuffers(gl),\n            rotation,\n            rotationX,\n            rotationY\n          );\n\n          // rotation += deltaTime;\n\n          this.frame = maybe(requestAnimationFrame(a));\n        };\n        this.frame = maybe(requestAnimationFrame(a));\n\n        this.node.onclick = () => {\n          this.node.requestPointerLock();\n        };\n\n        window.onmousemove = (e) => {\n          rotationY += e.movementY / 100;\n          rotationX += e.movementX / 100;\n        };\n      });\n    });\n  }\n\n  changeSpeed() {}\n\n  destroy(): void {\n    this.frame.map((frame) => cancelAnimationFrame(frame));\n\n    super.destroy();\n  }\n}\n","import { BaseComponent } from \"./BaseComponent\";\nimport \"./index.scss\";\nimport { Clock } from \"@/clock\";\n\nclass App extends BaseComponent<\"div\"> {\n  clock: Clock;\n\n  constructor(parent: HTMLElement) {\n    super(parent, \"div\");\n    this.clock = new Clock(this.node, window.innerWidth, window.innerHeight);\n  }\n}\n\nnew App(document.body);\n"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","BaseComponent","parentNode","tagName","className","text","node","document","createElement","textContent","append","remove","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","maybe","value","map","fn","ap","mfn","equals","m","chain","fmap","f","getOrElse","dv","merge","om","v","ov","asyncMap","then","mapped","red","green","blue","cyan","yellow","purple","indices","Buffers","gl","position","initPositionBuffer","color","initColorBuffer","initIndexBuffer","matrix","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","flatMap","rgba","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","Clock","parent","width","height","ctx","getContext","redraw","type","source","shader","createShader","shaderSource","compileShader","program","attachShader","vsSource","fsSource","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","linkProgram","programInfo","buffers","rotation","rotationX","rotationY","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","aspect","canvas","projection","mat4","Math","PI","modelView","setPosition","setColor","useProgram","uniformMatrix4fv","uniformLocations","projectionMatrix","modelViewMatrix","drawElements","TRIANGLE_STRIP","UNSIGNED_SHORT","vertexAttribPointer","attribLocations","vertexPosition","FLOAT","enableVertexAttribArray","vertexColor","shaderProgram","initShader","initBuffers","info","getUniformLocation","getAttribLocation","a","time","drawScene","frame","requestAnimationFrame","onclick","requestPointerLock","window","onmousemove","e","movementY","movementX","cancelAnimationFrame","clock","innerWidth","innerHeight","body"],"sourceRoot":""}